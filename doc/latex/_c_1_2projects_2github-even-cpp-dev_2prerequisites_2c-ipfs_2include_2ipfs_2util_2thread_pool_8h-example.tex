\hypertarget{_c_1_2projects_2github-even-cpp-dev_2prerequisites_2c-ipfs_2include_2ipfs_2util_2thread_pool_8h-example}{}\section{C\+:/projects/github-\/even-\/cpp-\/dev/prerequisites/c-\/ipfs/include/ipfs/util/thread\+\_\+pool.\+h}
Initialize threadpool\+Initializes a threadpool. This function will not return untill all threads have initialized successfully.

.. threadpool thpool; //\+First we declare a threadpool thpool = thpool\+\_\+init(4); //then we initialize it to 4 threads ..


\begin{DoxyParams}{Parameters}
{\em num\+\_\+threads} & number of threads to be created in the threadpool \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
threadpool created threadpool on success, N\+U\+LL on error
\end{DoxyReturn}

\begin{DoxyCodeInclude}
\textcolor{comment}{/**********************************}
\textcolor{comment}{ * @author      Johan Hanssen Seferidis}
\textcolor{comment}{ * License:     MIT}
\textcolor{comment}{ *}
\textcolor{comment}{ **********************************/}

\textcolor{preprocessor}{#ifndef \_THPOOL\_}
\textcolor{preprocessor}{#define \_THPOOL\_}

\textcolor{preprocessor}{#ifdef \_\_cplusplus}
\textcolor{keyword}{extern} \textcolor{stringliteral}{"C"} \{
\textcolor{preprocessor}{#endif}

\textcolor{comment}{/* =================================== API ======================================= */}


\textcolor{keyword}{typedef} \textcolor{keyword}{struct }\mbox{\hyperlink{structthpool__}{thpool\_}}* \mbox{\hyperlink{structthpool__}{threadpool}};


\mbox{\hyperlink{structthpool__}{threadpool}} thpool\_init(\textcolor{keywordtype}{int} num\_threads);


\textcolor{keywordtype}{int} thpool\_add\_work(\mbox{\hyperlink{structthpool__}{threadpool}}, \textcolor{keywordtype}{void} (*function\_p)(\textcolor{keywordtype}{void}*), \textcolor{keywordtype}{void}* arg\_p);


\textcolor{keywordtype}{void} thpool\_wait(\mbox{\hyperlink{structthpool__}{threadpool}});


\textcolor{keywordtype}{void} thpool\_pause(\mbox{\hyperlink{structthpool__}{threadpool}});


\textcolor{keywordtype}{void} thpool\_resume(\mbox{\hyperlink{structthpool__}{threadpool}});


\textcolor{keywordtype}{void} thpool\_destroy(\mbox{\hyperlink{structthpool__}{threadpool}});


\textcolor{keywordtype}{int} thpool\_num\_threads\_working(\mbox{\hyperlink{structthpool__}{threadpool}});


\textcolor{preprocessor}{#ifdef \_\_cplusplus}
\}
\textcolor{preprocessor}{#endif}

\textcolor{preprocessor}{#endif}
\end{DoxyCodeInclude}
 