\hypertarget{classstefanfrings_1_1_http_session_store}{}\section{stefanfrings\+:\+:Http\+Session\+Store Class Reference}
\label{classstefanfrings_1_1_http_session_store}\index{stefanfrings\+::\+Http\+Session\+Store@{stefanfrings\+::\+Http\+Session\+Store}}


{\ttfamily \#include $<$httpsessionstore.\+h$>$}



Inheritance diagram for stefanfrings\+:\+:Http\+Session\+Store\+:
% FIG 0


Collaboration diagram for stefanfrings\+:\+:Http\+Session\+Store\+:
% FIG 1
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classstefanfrings_1_1_http_session_store_a4404d037bc389162148b66b8392580c6}{Http\+Session\+Store}} (Q\+Settings $\ast$settings, Q\+Object $\ast$parent=N\+U\+LL)
\item 
virtual \mbox{\hyperlink{classstefanfrings_1_1_http_session_store_a06062155c1dc31ede2cbc5f31bce4df3}{$\sim$\+Http\+Session\+Store}} ()
\item 
Q\+Byte\+Array \mbox{\hyperlink{classstefanfrings_1_1_http_session_store_aaf9147137698db03b322ea93de548fba}{get\+Session\+Id}} (\mbox{\hyperlink{classstefanfrings_1_1_http_request}{Http\+Request}} \&request, \mbox{\hyperlink{classstefanfrings_1_1_http_response}{Http\+Response}} \&response)
\item 
\mbox{\hyperlink{classstefanfrings_1_1_http_session}{Http\+Session}} \mbox{\hyperlink{classstefanfrings_1_1_http_session_store_aeaf8409e1844366c12f18fd34d477a31}{get\+Session}} (\mbox{\hyperlink{classstefanfrings_1_1_http_request}{Http\+Request}} \&request, \mbox{\hyperlink{classstefanfrings_1_1_http_response}{Http\+Response}} \&response, bool allow\+Create=true)
\item 
\mbox{\hyperlink{classstefanfrings_1_1_http_session}{Http\+Session}} \mbox{\hyperlink{classstefanfrings_1_1_http_session_store_ab197132dc4713cd647705d09c9f84ba8}{get\+Session}} (const Q\+Byte\+Array id)
\item 
void \mbox{\hyperlink{classstefanfrings_1_1_http_session_store_a572d35ddc23b3ecac7c40aecc2b40a5e}{remove\+Session}} (\mbox{\hyperlink{classstefanfrings_1_1_http_session}{Http\+Session}} session)
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
Q\+Map$<$ Q\+Byte\+Array, \mbox{\hyperlink{classstefanfrings_1_1_http_session}{Http\+Session}} $>$ \mbox{\hyperlink{classstefanfrings_1_1_http_session_store_a25bcdad5accd436881927a414b99ba22}{sessions}}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Stores H\+T\+TP sessions and deletes them when they have expired. The following configuration settings are required in the config file\+: {\ttfamily 
\begin{DoxyPre}
expirationTime=3600000
cookieName=sessionid
\end{DoxyPre}
} The following additional configurations settings are optionally\+: {\ttfamily 
\begin{DoxyPre}
cookiePath=/
cookieComment=Session ID
;cookieDomain=stefanfrings.de
\end{DoxyPre}
} 

Definition at line 35 of file httpsessionstore.\+h.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classstefanfrings_1_1_http_session_store_a4404d037bc389162148b66b8392580c6}\label{classstefanfrings_1_1_http_session_store_a4404d037bc389162148b66b8392580c6}} 
\index{stefanfrings\+::\+Http\+Session\+Store@{stefanfrings\+::\+Http\+Session\+Store}!Http\+Session\+Store@{Http\+Session\+Store}}
\index{Http\+Session\+Store@{Http\+Session\+Store}!stefanfrings\+::\+Http\+Session\+Store@{stefanfrings\+::\+Http\+Session\+Store}}
\subsubsection{\texorpdfstring{Http\+Session\+Store()}{HttpSessionStore()}}
{\footnotesize\ttfamily Http\+Session\+Store\+::\+Http\+Session\+Store (\begin{DoxyParamCaption}\item[{Q\+Settings $\ast$}]{settings,  }\item[{Q\+Object $\ast$}]{parent = {\ttfamily NULL} }\end{DoxyParamCaption})}

Constructor. 

Definition at line 12 of file httpsessionstore.\+cpp.

\mbox{\Hypertarget{classstefanfrings_1_1_http_session_store_a06062155c1dc31ede2cbc5f31bce4df3}\label{classstefanfrings_1_1_http_session_store_a06062155c1dc31ede2cbc5f31bce4df3}} 
\index{stefanfrings\+::\+Http\+Session\+Store@{stefanfrings\+::\+Http\+Session\+Store}!````~Http\+Session\+Store@{$\sim$\+Http\+Session\+Store}}
\index{````~Http\+Session\+Store@{$\sim$\+Http\+Session\+Store}!stefanfrings\+::\+Http\+Session\+Store@{stefanfrings\+::\+Http\+Session\+Store}}
\subsubsection{\texorpdfstring{$\sim$\+Http\+Session\+Store()}{~HttpSessionStore()}}
{\footnotesize\ttfamily Http\+Session\+Store\+::$\sim$\+Http\+Session\+Store (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Destructor 

Definition at line 23 of file httpsessionstore.\+cpp.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classstefanfrings_1_1_http_session_store_aeaf8409e1844366c12f18fd34d477a31}\label{classstefanfrings_1_1_http_session_store_aeaf8409e1844366c12f18fd34d477a31}} 
\index{stefanfrings\+::\+Http\+Session\+Store@{stefanfrings\+::\+Http\+Session\+Store}!get\+Session@{get\+Session}}
\index{get\+Session@{get\+Session}!stefanfrings\+::\+Http\+Session\+Store@{stefanfrings\+::\+Http\+Session\+Store}}
\subsubsection{\texorpdfstring{get\+Session()}{getSession()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classstefanfrings_1_1_http_session}{Http\+Session}} Http\+Session\+Store\+::get\+Session (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classstefanfrings_1_1_http_request}{Http\+Request}} \&}]{request,  }\item[{\mbox{\hyperlink{classstefanfrings_1_1_http_response}{Http\+Response}} \&}]{response,  }\item[{bool}]{allow\+Create = {\ttfamily true} }\end{DoxyParamCaption})}

Get the session of a H\+T\+TP request, eventually create a new one. This method is thread safe. New sessions can only be created before the first byte has been written to the H\+T\+TP response. 
\begin{DoxyParams}{Parameters}
{\em request} & Used to get the session cookie \\
\hline
{\em response} & Used to get and set the new session cookie \\
\hline
{\em allow\+Create} & can be set to false, to disable the automatic creation of a new session. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
If auto\+Create is disabled, the function returns a null session if there is no session. 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classstefanfrings_1_1_http_session_a195963a20805ad00e0eacd90c0194d84}{Http\+Session\+::is\+Null()}} 
\end{DoxySeeAlso}


Definition at line 52 of file httpsessionstore.\+cpp.

Here is the call graph for this function\+:
% FIG 2
Here is the caller graph for this function\+:
% FIG 3
\mbox{\Hypertarget{classstefanfrings_1_1_http_session_store_ab197132dc4713cd647705d09c9f84ba8}\label{classstefanfrings_1_1_http_session_store_ab197132dc4713cd647705d09c9f84ba8}} 
\index{stefanfrings\+::\+Http\+Session\+Store@{stefanfrings\+::\+Http\+Session\+Store}!get\+Session@{get\+Session}}
\index{get\+Session@{get\+Session}!stefanfrings\+::\+Http\+Session\+Store@{stefanfrings\+::\+Http\+Session\+Store}}
\subsubsection{\texorpdfstring{get\+Session()}{getSession()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classstefanfrings_1_1_http_session}{Http\+Session}} Http\+Session\+Store\+::get\+Session (\begin{DoxyParamCaption}\item[{const Q\+Byte\+Array}]{id }\end{DoxyParamCaption})}

Get a H\+T\+TP session by it\textquotesingle{}s ID number. This method is thread safe. \begin{DoxyReturn}{Returns}
If there is no such session, the function returns a null session. 
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em id} & ID number of the session \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classstefanfrings_1_1_http_session_a195963a20805ad00e0eacd90c0194d84}{Http\+Session\+::is\+Null()}} 
\end{DoxySeeAlso}


Definition at line 91 of file httpsessionstore.\+cpp.

Here is the call graph for this function\+:
% FIG 4
\mbox{\Hypertarget{classstefanfrings_1_1_http_session_store_aaf9147137698db03b322ea93de548fba}\label{classstefanfrings_1_1_http_session_store_aaf9147137698db03b322ea93de548fba}} 
\index{stefanfrings\+::\+Http\+Session\+Store@{stefanfrings\+::\+Http\+Session\+Store}!get\+Session\+Id@{get\+Session\+Id}}
\index{get\+Session\+Id@{get\+Session\+Id}!stefanfrings\+::\+Http\+Session\+Store@{stefanfrings\+::\+Http\+Session\+Store}}
\subsubsection{\texorpdfstring{get\+Session\+Id()}{getSessionId()}}
{\footnotesize\ttfamily Q\+Byte\+Array Http\+Session\+Store\+::get\+Session\+Id (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classstefanfrings_1_1_http_request}{Http\+Request}} \&}]{request,  }\item[{\mbox{\hyperlink{classstefanfrings_1_1_http_response}{Http\+Response}} \&}]{response }\end{DoxyParamCaption})}

Get the ID of the current H\+T\+TP session, if it is valid. This method is thread safe. \begin{DoxyWarning}{Warning}
Sessions may expire at any time, so subsequent calls of \mbox{\hyperlink{classstefanfrings_1_1_http_session_store_aeaf8409e1844366c12f18fd34d477a31}{get\+Session()}} might return a new session with a different ID. 
\end{DoxyWarning}

\begin{DoxyParams}{Parameters}
{\em request} & Used to get the session cookie \\
\hline
{\em response} & Used to get and set the new session cookie \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Empty string, if there is no valid session. 
\end{DoxyReturn}


Definition at line 28 of file httpsessionstore.\+cpp.

Here is the call graph for this function\+:
% FIG 5
Here is the caller graph for this function\+:
% FIG 6
\mbox{\Hypertarget{classstefanfrings_1_1_http_session_store_a572d35ddc23b3ecac7c40aecc2b40a5e}\label{classstefanfrings_1_1_http_session_store_a572d35ddc23b3ecac7c40aecc2b40a5e}} 
\index{stefanfrings\+::\+Http\+Session\+Store@{stefanfrings\+::\+Http\+Session\+Store}!remove\+Session@{remove\+Session}}
\index{remove\+Session@{remove\+Session}!stefanfrings\+::\+Http\+Session\+Store@{stefanfrings\+::\+Http\+Session\+Store}}
\subsubsection{\texorpdfstring{remove\+Session()}{removeSession()}}
{\footnotesize\ttfamily void Http\+Session\+Store\+::remove\+Session (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classstefanfrings_1_1_http_session}{Http\+Session}}}]{session }\end{DoxyParamCaption})}

Delete a session 

Definition at line 122 of file httpsessionstore.\+cpp.

Here is the call graph for this function\+:
% FIG 7


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classstefanfrings_1_1_http_session_store_a25bcdad5accd436881927a414b99ba22}\label{classstefanfrings_1_1_http_session_store_a25bcdad5accd436881927a414b99ba22}} 
\index{stefanfrings\+::\+Http\+Session\+Store@{stefanfrings\+::\+Http\+Session\+Store}!sessions@{sessions}}
\index{sessions@{sessions}!stefanfrings\+::\+Http\+Session\+Store@{stefanfrings\+::\+Http\+Session\+Store}}
\subsubsection{\texorpdfstring{sessions}{sessions}}
{\footnotesize\ttfamily Q\+Map$<$Q\+Byte\+Array,\mbox{\hyperlink{classstefanfrings_1_1_http_session}{Http\+Session}}$>$ stefanfrings\+::\+Http\+Session\+Store\+::sessions\hspace{0.3cm}{\ttfamily [protected]}}

Storage for the sessions 

Definition at line 83 of file httpsessionstore.\+h.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
prerequisites/\+Qt\+Web\+App/\+Qt\+Web\+App/httpserver/\mbox{\hyperlink{httpsessionstore_8h}{httpsessionstore.\+h}}\item 
prerequisites/\+Qt\+Web\+App/\+Qt\+Web\+App/httpserver/\mbox{\hyperlink{httpsessionstore_8cpp}{httpsessionstore.\+cpp}}\end{DoxyCompactItemize}
